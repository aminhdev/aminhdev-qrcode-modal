{"code":"import * as React from \"react\";\r\nimport { isIOS, mobileLinkChoiceKey, setLocal } from \"@walletconnect/utils\";\r\nimport { DEFAULT_BUTTON_COLOR, WALLETCONNECT_CTA_TEXT_ID } from \"../constants\";\r\nimport { MOBILE_REGISTRY } from \"../assets/registry\";\r\nimport ConnectButton from \"./ConnectButton\";\r\nimport WalletButton from \"./WalletButton\";\r\nimport WalletIcon from \"./WalletIcon\";\r\nfunction formatIOSMobile(uri, entry) {\r\n    const encodedUri = encodeURIComponent(uri);\r\n    return entry.universalLink\r\n        ? `${entry.universalLink}/wc?uri=${encodedUri}`\r\n        : entry.deepLink\r\n            ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`\r\n            : \"\";\r\n}\r\nfunction saveMobileLinkInfo(data) {\r\n    const focusUri = data.href.split(\"?\")[0];\r\n    setLocal(mobileLinkChoiceKey, { ...data, href: focusUri });\r\n}\r\nfunction getMobileRegistryEntry(name) {\r\n    return MOBILE_REGISTRY.filter((entry) => entry.name.toLowerCase().includes(name))[0];\r\n}\r\nfunction getMobileLinkRegistry(qrcodeModalOptions) {\r\n    let links = MOBILE_REGISTRY;\r\n    if (qrcodeModalOptions &&\r\n        qrcodeModalOptions.mobileLinks &&\r\n        qrcodeModalOptions.mobileLinks.length) {\r\n        links = qrcodeModalOptions.mobileLinks.map((name) => getMobileRegistryEntry(name));\r\n    }\r\n    return links;\r\n}\r\nconst GRID_MIN_COUNT = 5;\r\nconst LINKS_PER_PAGE = 12;\r\nfunction MobileLinkDisplay(props) {\r\n    const ios = isIOS();\r\n    const links = getMobileLinkRegistry(props.qrcodeModalOptions);\r\n    const [page, setPage] = React.useState(1);\r\n    const grid = links.length > GRID_MIN_COUNT;\r\n    const pages = Math.ceil(links.length / LINKS_PER_PAGE);\r\n    const range = [(page - 1) * LINKS_PER_PAGE + 1, page * LINKS_PER_PAGE];\r\n    const pageLinks = links.filter((_, index) => index + 1 >= range[0] && index + 1 <= range[1]);\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"p\", { id: WALLETCONNECT_CTA_TEXT_ID, className: \"walletconnect-qrcode__text\" }, ios ? props.text.choose_preferred_wallet : props.text.connect_mobile_wallet),\r\n        React.createElement(\"div\", { className: `walletconnect-connect__buttons__wrapper${!ios ? \"__android\" : grid ? \"__wrap\" : \"\"}` }, ios ? (pageLinks.map((entry) => {\r\n            const { color, name, shortName, logo } = entry;\r\n            const href = formatIOSMobile(props.uri, entry);\r\n            const handleClickIOS = React.useCallback(() => {\r\n                saveMobileLinkInfo({\r\n                    name,\r\n                    href,\r\n                });\r\n            }, []);\r\n            return !grid ? (React.createElement(WalletButton, { color: color, href: href, name: name, logo: logo, onClick: handleClickIOS })) : (React.createElement(WalletIcon, { color: color, href: href, name: shortName, logo: logo, onClick: handleClickIOS }));\r\n        })) : (React.createElement(ConnectButton, { name: props.text.connect, color: DEFAULT_BUTTON_COLOR, href: props.uri, onClick: React.useCallback(() => {\r\n                saveMobileLinkInfo({\r\n                    name: \"Unknown\",\r\n                    href: props.uri,\r\n                });\r\n            }, []) }))),\r\n        !!(ios && pages > 1) && (React.createElement(\"div\", { className: \"walletconnect-modal__footer\" }, Array(pages)\r\n            .fill(0)\r\n            .map((_, index) => {\r\n            const pageNumber = index + 1;\r\n            const selected = page === pageNumber;\r\n            return (React.createElement(\"a\", { style: { margin: \"auto 10px\", fontWeight: selected ? \"bold\" : \"normal\" }, onClick: () => setPage(pageNumber) }, pageNumber));\r\n        })))));\r\n}\r\nexport default MobileLinkDisplay;\r\n//# sourceMappingURL=MobileLinkDisplay.js.map","map":"{\"version\":3,\"file\":\"MobileLinkDisplay.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/browser/components/MobileLinkDisplay.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAE,KAAK,EAAE,mBAAmB,EAAE,QAAQ,EAAE,MAAM,sBAAsB,CAAC;AAE5E,OAAO,EAAE,oBAAoB,EAAE,yBAAyB,EAAE,MAAM,cAAc,CAAC;AAE/E,OAAO,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAGrD,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAE5C,OAAO,YAAY,MAAM,gBAAgB,CAAC;AAE1C,OAAO,UAAU,MAAM,cAAc,CAAC;AAGtC,SAAS,eAAe,CAAC,GAAW,EAAE,KAA2B;IAC/D,MAAM,UAAU,GAAW,kBAAkB,CAAC,GAAG,CAAC,CAAC;IACnD,OAAO,KAAK,CAAC,aAAa;QACxB,CAAC,CAAC,GAAG,KAAK,CAAC,aAAa,WAAW,UAAU,EAAE;QAC/C,CAAC,CAAC,KAAK,CAAC,QAAQ;YAChB,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,UAAU,EAAE;YACrF,CAAC,CAAC,EAAE,CAAC;AACT,CAAC;AAED,SAAS,kBAAkB,CAAC,IAAqB;IAC/C,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,QAAQ,CAAC,mBAAmB,EAAE,EAAE,GAAG,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC7D,CAAC;AAED,SAAS,sBAAsB,CAAC,IAAY;IAC1C,OAAO,eAAe,CAAC,MAAM,CAAC,CAAC,KAA2B,EAAE,EAAE,CAC5D,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CACxC,CAAC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,SAAS,qBAAqB,CAAC,kBAAwC;IACrE,IAAI,KAAK,GAAG,eAAe,CAAC;IAC5B,IACE,kBAAkB;QAClB,kBAAkB,CAAC,WAAW;QAC9B,kBAAkB,CAAC,WAAW,CAAC,MAAM,EACrC;QACA,KAAK,GAAG,kBAAkB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAY,EAAE,EAAE,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;KAC5F;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAYD,MAAM,cAAc,GAAG,CAAC,CAAC;AACzB,MAAM,cAAc,GAAG,EAAE,CAAC;AAE1B,SAAS,iBAAiB,CAAC,KAA6B;IACtD,MAAM,GAAG,GAAG,KAAK,EAAE,CAAC;IACpB,MAAM,KAAK,GAAG,qBAAqB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;IAC9D,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1C,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,GAAG,cAAc,CAAC;IAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,cAAc,CAAC,CAAC;IACvD,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,cAAc,GAAG,CAAC,EAAE,IAAI,GAAG,cAAc,CAAC,CAAC;IACvE,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7F,OAAO,CACL;QACE,2BAAG,EAAE,EAAE,yBAAyB,EAAE,SAAS,EAAC,4BAA4B,IACrE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAC1E;QACJ,6BACE,SAAS,EAAE,0CACT,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EACzC,EAAE,IAED,GAAG,CAAC,CAAC,CAAC,CACL,SAAS,CAAC,GAAG,CAAC,CAAC,KAA2B,EAAE,EAAE;YAC5C,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC;YAC/C,MAAM,IAAI,GAAG,eAAe,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC/C,MAAM,cAAc,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;gBAC5C,kBAAkB,CAAC;oBACjB,IAAI;oBACJ,IAAI;iBACL,CAAC,CAAC;YACL,CAAC,EAAE,EAAE,CAAC,CAAC;YACP,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CACb,oBAAC,YAAY,IACX,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,EACV,OAAO,EAAE,cAAc,GACvB,CACH,CAAC,CAAC,CAAC,CACF,oBAAC,UAAU,IACT,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,SAAS,EACf,IAAI,EAAE,IAAI,EACV,OAAO,EAAE,cAAc,GACvB,CACH,CAAC;QACJ,CAAC,CAAC,CACH,CAAC,CAAC,CAAC,CACF,oBAAC,aAAa,IACZ,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,OAAO,EACxB,KAAK,EAAE,oBAAoB,EAC3B,IAAI,EAAE,KAAK,CAAC,GAAG,EACf,OAAO,EAAE,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;gBAC9B,kBAAkB,CAAC;oBACjB,IAAI,EAAE,SAAS;oBACf,IAAI,EAAE,KAAK,CAAC,GAAG;iBAChB,CAAC,CAAC;YACL,CAAC,EAAE,EAAE,CAAC,GACN,CACH,CACG;QACL,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CACvB,6BAAK,SAAS,EAAC,6BAA6B,IACzC,KAAK,CAAC,KAAK,CAAC;aACV,IAAI,CAAC,CAAC,CAAC;aACP,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;YAChB,MAAM,UAAU,GAAG,KAAK,GAAG,CAAC,CAAC;YAC7B,MAAM,QAAQ,GAAG,IAAI,KAAK,UAAU,CAAC;YACrC,OAAO,CACL,2BACE,KAAK,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,EACxE,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,IAEjC,UAAU,CACT,CACL,CAAC;QACJ,CAAC,CAAC,CACA,CACP,CACG,CACP,CAAC;AACJ,CAAC;AAED,eAAe,iBAAiB,CAAC\"}","dtsmap":{"name":"/Users/aminh.dev1/Documents/projects/barcoor/walletconnect-monorepo/packages/helpers/qrcode-modal/browser/components/MobileLinkDisplay.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"MobileLinkDisplay.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../src/browser/components/MobileLinkDisplay.tsx\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAwB,mBAAmB,EAAE,MAAM,sBAAsB,CAAC;AAajF,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;AAsCnC,UAAU,sBAAsB;IAC9B,kBAAkB,CAAC,EAAE,mBAAmB,CAAC;IACzC,IAAI,EAAE,OAAO,CAAC;IACd,GAAG,EAAE,MAAM,CAAC;CACb;AAKD,iBAAS,iBAAiB,CAAC,KAAK,EAAE,sBAAsB,eAgFvD;AAED,eAAe,iBAAiB,CAAC\"}"},"dts":{"name":"/Users/aminh.dev1/Documents/projects/barcoor/walletconnect-monorepo/packages/helpers/qrcode-modal/browser/components/MobileLinkDisplay.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport { IQRCodeModalOptions } from \"@walletconnect/types\";\r\nimport { TextMap } from \"../types\";\r\ninterface MobileLinkDisplayProps {\r\n    qrcodeModalOptions?: IQRCodeModalOptions;\r\n    text: TextMap;\r\n    uri: string;\r\n}\r\ndeclare function MobileLinkDisplay(props: MobileLinkDisplayProps): JSX.Element;\r\nexport default MobileLinkDisplay;\r\n//# sourceMappingURL=MobileLinkDisplay.d.ts.map"}}
